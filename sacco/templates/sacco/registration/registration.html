{% extends "base.html" %}

{% block content %}

{% load static%}


{% load humanize %}

<!-- <body data-layout="horizontal" data-topbar="dark"> -->

<!-- Begin page -->
<div id="layout-wrapper">

    <!-- Header-->
    {% include "partials/als_header.html" %}

    <!-- ========== Left Sidebar Start ========== -->
    {% include "partials/als_left_sidebar.html" %}
    <!-- Left Sidebar End -->


    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">
        <div class="page-content">
            <div class="container-fluid">

            <!-- start page title -->
            {% include "partials/als_page_title.html" %}
            <!-- end page title -->

            {% include 'partials/als_messages.html' %} 

                
                
            {% include 'sacco/includes/search.html' %} 


                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                            {% include 'partials/als_table_title.html' %} 

                            

                                <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                    <thead>
                                    <tr>
                                    <th>Member</th>
                                    <th>Amount</th>
                                    <th class="t_id">Transaction ID</th>
                                    <th class="c_by">Created By</th>
                                    <th class="c_on">Created On</th>
                                    <th class="u_by">Updated By</th>
                                    <th class="u_on">Updated On</th>
                                    <th class="action1">Actions</th>
                                    <th class="action2">Actions</th>
                                    </tr>
                                    </thead>


                                    <tbody>
                                    {% for r in registration %}
                                    <tr>
                                    
                                    <td>{{ r.member.first_name }} {{ r.member.last_name }}</td>
                                    <td>{{ r.amount | intcomma }}</td>
                                    <td class="t_id1">{{ r.transaction_id}}</td>
                                    <td class="c_by1">{{ r.created_by  }}</td>
                                    <td class="c_on1">{{ r.created_on }}</td>
                                    <td class="u_by1">{{ r.updated_by }}</td>
                                    <td class="u_on1">{{ r.updated_on }}</td>

                                    <td class="action3">
                                        {% if request.path|slice:"1:" == 'registration' %}
                                            <a href="{% url 'edit-registration' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'loan'%} 
                                            <a href="{% url 'edit-loan' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'capital-shares'%} 
                                            <a href="{% url 'edit-capital-shares' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'shares'%} 
                                            <a href="{% url 'edit-shares' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'nhif'%} 
                                            <a href="{% url 'edit-nhif' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'cheque'%} 
                                            <a href="{% url 'edit-cheque' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'account'%} 
                                            <a href="{% url 'edit-account' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'processing'%} 
                                            <a href="{% url 'edit-processing' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'passbook'%} 
                                            <a href="{% url 'edit-passbook' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% endif %}
                                    
                                    </td>

                                    <td class="action4">
                                        {% if request.path|slice:"1:" == 'registration' %}
                                            <a href="{% url 'edit-registration' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'loan'%} 
                                            <a href="{% url 'edit-loan' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'capital-shares'%} 
                                            <a href="{% url 'r2' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Reciept</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'shares'%} 
                                            <a href="{% url 'r5' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Reciept</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'nhif'%} 
                                            <a href="{% url 'r3' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Reciept</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'cheque'%} 
                                            <a href="{% url 'edit-cheque' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'account'%} 
                                            <a href="{% url 'r4' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Reciept</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'processing'%} 
                                            <a href="{% url 'edit-processing' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Edit</button>
                                            </a>
                                        {% elif request.path|slice:"1:" == 'passbook'%} 
                                            <a href="{% url 'r8' r.id %}">
                                                <button type="button" class="btn btn-dark btn-rounded waves-effect waves-light  btn-sm">Reciept</button>
                                            </a>
                                        {% endif %}
                                    
                                    </td>
                                    
                                    </tr>    
                                    {% endfor %}                                       
                                    </tbody>

                                        <tr>
                                            <td>Total</td>
                                            <td>{{ total}}</td>
                                        </tr>

                                        

                        
                                   
                                </table>

                    


                            </div>
                        </div>
                    </div> <!-- end col -->
                </div> 
            <!-- end row -->
            </div>
        </div>  
    </div>

</div>
<!-- END layout-wrapper -->


{% endblock %}